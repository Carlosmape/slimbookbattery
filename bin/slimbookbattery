#!/usr/bin/python3
# -*- coding: utf-8 -*-


import os
import subprocess

tlp = "/usr/bin/tlp"
tlp2 = "/usr/sbin/tlp"
current_path = os.path.dirname(os.path.realpath(__file__))

if os.path.exists(tlp) or os.path.exists(tlp2):
    if __name__ == "__main__":
        pgrep = subprocess.getoutput("pgrep slimbookbatterypreferences")
        numProcRunning = pgrep.split('\n')
        if len(numProcRunning) > 1:
            print("Slimbook Battery is in execution")
        else:
            preference_py = os.path.join(current_path, '../share/slimbookbattery/src/slimbookbatterypreferences.py')
            os.system('python3 {}'.format(preference_py))

exit(0)
